<template name="Settings">
  <div class="settings">
    {{#if Template.subscriptionsReady}}
      {{#if availableSettings}}
        <div class="settings-header">
          <div class="container">
            <h1 class="display-5 mt-3 mb-3">Settings</h1>
          </div>
        </div>

        <div class="settings-nav">
          <div class="container">
            <ul class="nav nav-tabs" role="tablist">
              {{#each setting in availableSettings}}
                <li class="nav-item">
                  <a class="nav-link {{#if setting.active}}active{{/if}}" data-toggle="tab" href="#{{setting.id}}" role="tab">{{setting.name}}</a>
                </li>
              {{/each}}
            </ul>
          </div>
        </div>

        <div class="settings-body">
          <div class="container pt-3 pb-3">
            <div class="tab-content">
              {{#each setting in availableSettings}}
                <div class="tab-pane fade {{#if setting.active}}show active{{/if}}" id="{{setting.id}}" role="tabpanel">
                  {{> Template.dynamic template=setting.template}}
                </div>
              {{/each}}
            </div>
          </div>
        </div>
      {{else}}
        <div class="settings-unauthorized container">
          <div class="row flex-items-xs-center">
            <p class="mt-3 text-muted" style="text-align: center;">
              Sorry, you must be signed in to access settings.
            </p>
          </div>
        </div>
      {{/if}}
    {{else}}
      <div class="text-center my-3">
        <p>Loading...</p>
      </div>
    {{/if}}
  </div>
</template>
