<template name="Queue">
  <div class="queue">
    {{#if Template.subscriptionsReady}}
      {{> QueueHeader queue=queue taView=taView}}
      {{> AlertEndingSoon queue=queue taView=taView}}
      {{> AlertSignupGap queue=queue taView=taView}}

      {{#if queue.isRestricted}}
        {{> QueueAlertRestrictedSession queue=queue taView=taView}}
      {{/if}}

      {{> QueueActions queue=queue taView=taView notificationsEnabled=notificationsEnabled}}
      {{> QueueTable queue=queue taView=taView}}
    {{else}}
        <div class="row flex-items-xs-center mt-3" style="text-align: center;">
          <p>Loading...</p>
        </div> 
    {{/if}}
  </div>

  {{#if taView}}
    {{> ModalQueueEdit queue=queue}}
  {{else}}
    {{> ModalJoinQueue queue=queue}}
  {{/if}}
</template>
