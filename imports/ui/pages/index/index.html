<template name="Index">
  <div class="index container my-3">
    {{#if Template.subscriptionsReady}}
      {{#if sortedActiveQueuesLength}}
        <div class="queue-card-deck row">
          {{#each queue in sortedActiveQueues}}
            <div class="col-lg-4 my-md-3 my-2">
              {{> QueueCard queue=queue}}
            </div>
          {{/each}}

          {{#if isTA currentUser}}
            <div class="col-lg-4 my-md-3 my-2">
              <a class="create-queue-card card card-outline-secondary dashed-card d-flex align-items-center justify-content-center js-show-modal-queue-create" href="#">
                <span><i class="material-icons">add</i> New Queue</span>
              </a>
            </div>
          {{/if}}
        </div>
      {{else}}
        <div class="index-empty text-center">
          <div>
            <p>
              No courses holding hours right now.
            </p>

            {{#if isTA currentUser}}
              <p>
                <a class="create-queue-link js-show-modal-queue-create" href="#">
                  <i class="material-icons">add</i> New Queue
                </a>
              </p>
            {{else}}
              <p class="text-muted">TA? Sign in to start a new queue.</p>
            {{/if}}
          </div>
        </div>
      {{/if}}
    {{else}}
      <div class="text-center">
        <p>Loading...</p>
      </div>
    {{/if}}
  </div>

  {{> ModalQueueCreate}}
</template>
